{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"51385266-59a206174458b904205f7b7fa\";\n\nexport function getImagesByQuery(query) {\n    return axios('https://pixabay.com/api/', {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n            \n        }\n    })\n        .then(res => res.data.hits)\n        .catch(error => {\n            console.log(error.message);\n        })\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function createMarkup(arr) {\n  return arr.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n      return `\n      <div class=\"wrap\">\n       <a class=\"gallery-item\" href=\"${largeImageURL}\"><img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360px\"></a\n           >\n            <ul class=\"list\">\n                <li class=\"list-item\">\n                  <p class=\"label\">Likes</p>\n                  <p class=\"value\">${likes}</p>\n                </li>\n                <li class=\"list-item\">\n                  <p class=\"label\">Views</p>\n                  <p class=\"value\">${views}</p>\n                </li>\n                <li class=\"list-item\">\n                  <p class=\"label\">Comments</p>\n                  <p class=\"value\">${comments}</p>\n                </li>\n                <li class=\"list-item\">\n                  <p class=\"label\">Downloads</p>\n                  <p class=\"value\">${downloads}</p>\n                </li>\n              </ul>\n        \n      </div>\n      `;\n    })\n      .join(\"\");\n    \n}","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nlet lightbox = null;\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener(\"submit\", handleSubmit);\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const userInput = event.target.elements[\"search-text\"].value.trim();\n    if (userInput === \"\") {\n        iziToast.warning({\n            message: 'Unfortunately you cannot leave the input blank',\n            position: 'topRight',\n              messageColor: '#fff',\n              titleColor: '#fff',\n              color: '#ef4040',\n              iconUrl: './img/bi_x-octagon-2.svg',\n              maxWidth: 432\n            });\n        return\n    }\n\n    gallery.innerHTML = \"\";\n    loader.classList.remove(\"hidden\");\n    getImagesByQuery(userInput)\n        .then(res => {\n            if (res.length === 0) {\n              iziToast.show({\n              message: 'Sorry, there are no images matching your search query. Please try again!',\n              position: 'topRight',\n              messageColor: '#fff',\n              titleColor: '#fff',\n              color: '#ef4040',\n              iconUrl: './img/bi_x-octagon-2.svg',\n              maxWidth: 432\n              });\n                return\n            }\n            \n            gallery.innerHTML = createMarkup(res);\n            setTimeout(() => {\n            if (!lightbox) {\n            lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                aptionDelay: 250,\n            });\n            } else {\n            lightbox.refresh();\n                }\n            }, 0);\n\n            form.reset();\n        })\n        .catch(error => {\n            iziToast.show({\n              message: 'Sorry, something went wrong. Please try again!',\n              position: 'topRight',\n              messageColor: '#fff',\n              titleColor: '#fff',\n              color: '#ef4040',\n              iconUrl: './img/bi_x-octagon-2.svg',\n              maxWidth: 432\n            })\n        })\n        .finally(() => {\n            loader.classList.add(\"hidden\");\n        })\n    \n    \n}\n"],"names":["API_KEY","getImagesByQuery","query","axios","res","error","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","form","gallery","loader","handleSubmit","event","userInput","iziToast","SimpleLightbox"],"mappings":"owBAEA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,2BAA4B,CACrC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEf,CACT,CAAK,EACI,KAAKE,GAAOA,EAAI,KAAK,IAAI,EACzB,MAAMC,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,CACrC,CAAS,CACT,CChBO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EAAI,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC1E;AAAA;AAAA,uCAE0BL,CAAa,2BAA2BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKpEC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAMzC,EACE,KAAK,EAAE,CAEd,CCxBA,IAAIC,EAAW,KAEf,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,CAAY,EAC5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAC7D,GAAIC,IAAc,GAAI,CAClBC,EAAS,QAAQ,CACb,QAAS,iDACT,SAAU,WACR,aAAc,OACd,WAAY,OACZ,MAAO,UACP,QAAS,2BACT,SAAU,GACxB,CAAa,EACL,MACH,CAEDL,EAAQ,UAAY,GACpBC,EAAO,UAAU,OAAO,QAAQ,EAChCjB,EAAiBoB,CAAS,EACrB,KAAKjB,GAAO,CACT,GAAIA,EAAI,SAAW,EAAG,CACpBkB,EAAS,KAAK,CACd,QAAS,2EACT,SAAU,WACV,aAAc,OACd,WAAY,OACZ,MAAO,UACP,QAAS,2BACT,SAAU,GACxB,CAAe,EACC,MACH,CAEDL,EAAQ,UAAYX,EAAaF,CAAG,EACpC,WAAW,IAAM,CACZW,EAMLA,EAAS,QAAO,EALhBA,EAAW,IAAIQ,EAAe,aAAc,CACxC,aAAc,MACd,YAAa,GAC7B,CAAa,CAIA,EAAE,CAAC,EAEJP,EAAK,MAAK,CACtB,CAAS,EACA,MAAMX,GAAS,CACZiB,EAAS,KAAK,CACZ,QAAS,iDACT,SAAU,WACV,aAAc,OACd,WAAY,OACZ,MAAO,UACP,QAAS,2BACT,SAAU,GACxB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXJ,EAAO,UAAU,IAAI,QAAQ,CACzC,CAAS,CAGT"}